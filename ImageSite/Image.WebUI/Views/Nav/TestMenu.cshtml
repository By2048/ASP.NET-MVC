

@{
    Layout = null;
    ViewBag.Title = "TestMenu";
}

<h2>TestMenu</h2>

@foreach (var item in Image.WebUI.Models.Home.HomeIndexModel.PageFolder.GetPagingData())
{
    <p>ID:@item.Id Name:@item.Name</p>
}

@{
    int curPage = Image.WebUI.Models.Home.HomeIndexModel.PageFolder.PageIndex;
    int nextPage = curPage + 1;
    int prevPage = curPage - 1;

    int folderId = Image.WebUI.Models.Home.HomeIndexModel.FolderId;

    int imagePage;
    if (Image.WebUI.Models.Home.HomeIndexModel.PageImage != null)
    {
        imagePage = Image.WebUI.Models.Home.HomeIndexModel.PageImage.PageIndex;
    }
    else
    {
        imagePage = 1;
    }

}

<p>
    @if (Image.WebUI.Models.Home.HomeIndexModel.PageFolder.HasPrev)
    {
        @*<a href="@Url.Action("TestIndex", "Home", new { folderPage = Model.PageFolder.PageIndex - 1 })">上一页</a>*@
        <a href="@Url.Action("TestIndex", "Home",
                new { folderPage = prevPage, folderId = folderId, imagePage = imagePage})">上一页</a>

    }
    else
    {
        <em style="color:Gray">上一页</em>
    }
    @if (Image.WebUI.Models.Home.HomeIndexModel.PageFolder.HasNext)
    {
        @*<a href="@Url.Action("TestIndex", "Home", new { folderPage = Model.PageFolder.PageIndex + 1 })">下一页</a>*@
        <a href="@Url.Action("TestIndex", "Home",
                new { folderPage =nextPage, folderId = folderId, imagePage =imagePage})">下一页</a>
    }
    else
    {
        <em style="color:Gray">下一页</em>
    }
</p>
